package dataflow.examples.fact;

import java.math.BigInteger;

import dataflow.core.Composite;
import dataflow.core.IntEvent;
import dataflow.core.IntEventReceiverService;
import dataflow.core.Printer;
import dataflow.core.RequireIntEventReceiverService;
import dataflow.examples.basics.GenInt;
import dataflow.generators.GenConst;
import dataflow.operators.Add;
import dataflow.operators.Mul;


/*
 * 
 * Exercice 2 -- Question 3
 * 
 * A compl√©ter  
 * 
 */

public class GenFact implements Composite,
			/* require */
			RequireIntEventReceiverService {

	private Add add;
	private GenConst gen;
	private Mul mul;
	
	public GenFact() {
		gen = new GenConst(1);
		add = new Add();
		mul = new Mul();
		
		gen.bindIntEventReceiverService(add);
		add.bindIntEventReceiverService(add);
		
		
		
		add.onIntEvent(new IntEvent(new BigInteger("0")));
		
	}	
	
	@Override
	public void bindIntEventReceiverService(IntEventReceiverService serv) {
		mul.bindIntEventReceiverService(serv);
	}
		
	@Override
	public void activate() {
		gen.activate();
		mul.activate();
	}

}
